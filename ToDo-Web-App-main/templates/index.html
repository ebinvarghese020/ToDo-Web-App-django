{% extends 'base.html' %}


{% block content %}

    <div class="container mb-5">
        <p>
            <a class="btn btn-secondary" data-bs-toggle="collapse" href="#newtask" role="button">
                Add New Task
            </a>
        </p>
        <div class="collapse w-50" id="newtask">
            <div class="card card-body mb-4">
                <form action="newtask" method="post">
                  {% csrf_token %}
                    <div class="mb-3">
                        <label class="form-label">Title</label>
                        <input class="form-control" placeholder="Enter your task title here" name="title">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" rows="3" name="desc"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Deadline</label>
                        <input type="datetime-local" name="deadline" class="form-control" min="{{ now }}"/>
                    </div>
                    <div class="mb-3">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </form>                    
            </div>
        </div>
    </div>

      <div class="container mb-5">
        <div class="row">
          <div class="col">
            <ul class="list-group">
                <li class="list-group-item active text-center" aria-current="true">Upcommming</li>
                {% for i in upcomming %}
                <li class="list-group-item">
                    <div class="card border border-0" >
                        <div class="card-body">
                          <h5 class="card-title">{{ i.title }}</h5>
                          <h6 class="card-subtitle mb-2 text-muted">
                            <div class="row">
                                <div class="col">
                                  Publised date : {{ i.published }}
                                </div>
                                <div class="col">
                                    To be submited in : {{ i.deadline }}
                                </div>
                          </h6>
                          <p class="card-text">{{i.desc}}</p>
                          <a href="deletetask/{{ i.id }}" class="btn btn-danger mx-2">Delete</a>
                          <a href="edittask/{{ i.id }}" class="btn btn-info mx-2">Edit</a>
                          <a href="markascomplete/{{ i.id }}" class="btn btn-success mx-2">Mark as complete</a>
                        </div>
                    </div>
                </li>
                {% endfor %}
              </ul>
          </div>
          <div class="col">
            <ul class="list-group">
              <li class="list-group-item active text-center" aria-current="true">Completed</li>
              {% for i in completed %}
              <li class="list-group-item">
                  <div class="card border border-0" >
                      <div class="card-body">
                        <h5 class="card-title">{{ i.title }}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">
                          <div class="row">
                              <div class="col">
                                Publised date : {{ i.published }}
                              </div>
                              <div class="col">
                                  To be submited in : {{ i.deadline }}
                              </div>
                        </h6>
                        <p class="card-text">{{i.desc}}</p>
                          <a href="deletetask/{{ i.id }}" class="btn btn-danger mx-2">Delete</a>
                          <a href="edittask/{{ i.id }}" class="btn btn-info mx-2">Edit</a>
                          <a href="markasincomplete/{{ i.id }}" class="btn btn-warning mx-2">Mark as incomplete</a>
                        </div>
                    </div>
                </li>
                {% endfor %}
              </ul>
          </div>
          <div class="col">
            <ul class="list-group">
                <li class="list-group-item active text-center" aria-current="true">Time Expired</li>
                  {% for i in expired %}
                  <li class="list-group-item">
                      <div class="card border border-0" >
                          <div class="card-body">
                            <h5 class="card-title">{{ i.title }}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">
                              <div class="row">
                                  <div class="col">
                                    Publised date : {{ i.published }}
                                  </div>
                                  <div class="col">
                                      To be submited in : {{ i.deadline }}
                                  </div>
                            </h6>
                            <p class="card-text">{{i.desc}}</p>
                          <a href="deletetask/{{ i.id }}" class="btn btn-danger mx-2">Delete</a>
                          <a href="edittask/{{ i.id }}" class="btn btn-info mx-2">Edit</a>
                          <a href="markascomplete/{{ i.id }}" class="btn btn-success mx-2">Mark as complete</a>
                        </div>
                    </div>
                </li>
                {% endfor %}
              </ul>
          </div>
          
      </div>

      
 {% endblock %}